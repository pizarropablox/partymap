spring.application.name=backend

# Disable Spring Cloud compatibility verification (alternative to changing Spring Boot version)
spring.cloud.compatibility-verifier.enabled=false

# Feign Configuration
cloud.openfeign.discovery.enabled=false
feign.client.config.default.connect-timeout=5000
feign.client.config.default.read-timeout=5000
feign.client.config.default.logger-level=full

# Enable Feign logging
logging.level.com.partymap.backend.RestClients.ClienteRest=DEBUG

# establece el nivel de log global
logging.level.root=INFO

# establece el nivel de log para un paquete especifico
logging.level.org.hibernate=DEBUG
logging.level.org.springframework=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.partymap.backend=DEBUG

#cambiar la llamada del wallet --------------/opt/oracle/wallet
spring.datasource.url=jdbc:oracle:thin:@partymap_low?TNS_ADMIN=./wallet_partymap  
spring.datasource.username=ADMIN
spring.datasource.password=KpHhn6cg1ZWHs6
spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect

#Puerto
server.port=8085

# Configuración JPA la base esta creada asi que dejar en none
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.hibernate.dialect=org.hibernate.dialect.OracleDialect

# Prevenir creación automática de índices y esquemas
spring.jpa.hibernate.hbm2ddl.auto=none
spring.jpa.hibernate.hbm2ddl.schema_generation.drop_source=none
spring.jpa.hibernate.hbm2ddl.schema_generation.create_source=none


spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.connection-timeout=30000

# Configuración JWT simplificada para Azure B2C
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://duocdesarrollocloudnative.b2clogin.com/duocdesarrollocloudnative.onmicrosoft.com/discovery/v2.0/keys
spring.security.oauth2.resourceserver.jwt.audience=ad16d15c-7d6e-4f58-8146-4b5b3d7b7124

# Logging específico para JWT y OAuth2
logging.level.org.springframework.security.oauth2=DEBUG
logging.level.org.springframework.security.oauth2.jwt=DEBUG
logging.level.org.springframework.security.oauth2.resourceserver=DEBUG
logging.level.org.springframework.security.oauth2.jose=DEBUG
logging.level.org.springframework.security.oauth2.core=DEBUG

# Logging para debugging de tokens
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web.filter.OncePerRequestFilter=DEBUG
